---
title: "PROYECTOR2019"
author: "CAMILLA MOSSEDDU"
date: "16/11/2019"
output: html_document
---

{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
install.packages('rvest')



## R Markdown


{r}
#Loading the rvest package
library('rvest')
library(tibble)
library (purrr)
library( tables ) # Presentaci√≥n de tablas 
#Specifying the url for desired website to be scraped
url <- 'https://www.milanuncios.com/coches-de-segunda-mano-en-madrid/'
#Reading the HTML code from the website
webpage <- read_html(url)


#find the listing nodes and id of each node
listings<-html_nodes(webpage, "div.aditem-detail")

#search each listing node for the child ticket and limit view criteria
precio_data<-sapply(listings, function(x) {html_node(x, ".aditem-price") %>% html_text()} ) 
kms_data<-sapply(listings, function(x) {html_node(x, ".kms.tag-mobile") %>% html_text()} ) 
ano_data<-sapply(listings, function(x) {html_node(x, ".ano.tag-mobile") %>% html_text()} ) 
die_data<-sapply(listings, function(x) {html_node(x, ".die.tag-mobile") %>% html_text()} ) 
cc_data<-sapply(listings, function(x) {html_node(x, ".cc.tag-mobile") %>% html_text()} )
puertas_data<-sapply(listings, function(x) {html_node(x, ".ejes.tag-mobile") %>% html_text()} )